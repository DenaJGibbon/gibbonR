gibbonR: An R package for the automated detection and classification of
female gibbon calls from long-term acoustic recordings
================

-   [Authors](#authors)
-   [Package description](#package-description)
-   [Tutorial](#tutorial)
-   [Quick start guide](#quick-start-guide)
    -   [You can install the development version from GitHub
        with:](#you-can-install-the-development-version-from-github-with)
-   [Part 1. Training Data with Labeled .wav
    clips](#part-1-training-data-with-labeled-wav-clips)
-   [Part 2. Run the
    detector/classifier](#part-2-run-the-detectorclassifier)
    -   [Part 2a. Feature extraction](#part-2a-feature-extraction)
    -   [Part 2b. Run DetectClassify](#part-2b-run-detectclassify)
-   [Part 3. Data visualization](#part-3-data-visualization)
    -   [Part 3a. Create a UMAP plot colored by
        class](#part-3a-create-a-umap-plot-colored-by-class)

<!-- README.md is generated from README.Rmd. Please edit that file -->

# Authors

Dena J. Clink & Holger Klinck  
K. Lisa Yang Center for Conservation Bioacoustics, Cornell Lab of
Ornithology, Cornell University

# Package description

The field of bioacoustics is inherently multidisciplinary and relies on
computer scientists, engineers, and ecologists. This package is directed
towards ecologists who are interested in incorporating bioacoustics into
their research, but may not have the skills or training. The goal for
the creation of this package was to make commonly used signal processing
techniques and various machine learning algorithms readily available in
R for anyone interested in using bioacoustics in their research.

*Planned release of updated package October 31, 2022*

# Tutorial

<https://denajgibbon.github.io/gibbonR-tutorial/>

# Quick start guide

## You can install the development version from [GitHub](https://github.com/DenaJGibbon) with:

``` r
# install.packages("devtools")
# devtools::install_github("DenaJGibbon/gibbonR")

library(gibbonR)
#> Loading required package: stringr
#> Loading required package: e1071
#> Loading required package: randomForest
#> randomForest 4.7-1
#> Type rfNews() to see new features/changes/bug fixes.
#> Loading required package: tuneR
#> Loading required package: seewave
```

# Part 1. Training Data with Labeled .wav clips

### Read in clips and calculate MFCCs

``` r
TrainingWavFilesDir <- 
  "/Users/denaclink/Desktop/RStudio Projects/gibbonR/data/MultipleSoundClasses/"

trainingdata <- gibbonR::MFCCFunction(input.dir=TrainingWavFilesDir, min.freq = 400, max.freq = 1600,win.avg="TRUE")

trainingdata$class <- as.factor(trainingdata$class)
```

### Compare Random Forest and Support Vector Machine for Supervised Classification

``` r
trainingdata$class <- as.factor(trainingdata$class)


ml.model.svm <- e1071::svm(trainingdata[, 2:ncol(trainingdata)], trainingdata$class, kernel = "radial", 
                           cross = 25,
                           probability = TRUE)

print(paste('SVM accuracy',ml.model.svm$tot.accuracy))
#> [1] "SVM accuracy 88"


ml.model.rf <- randomForest::randomForest(x=trainingdata[, 2:ncol(trainingdata)], y = trainingdata$class)


print(ml.model.rf$err.rate)
#>               OOB female.gibbon leaf.monkey     noise solo.gibbon
#>   [1,] 0.40000000    0.20000000  0.60000000 0.7142857   0.1250000
#>   [2,] 0.39130435    0.33333333  0.42857143 0.5833333   0.2500000
#>   [3,] 0.35185185    0.25000000  0.12500000 0.4666667   0.4666667
#>   [4,] 0.35000000    0.18750000  0.18181818 0.4705882   0.5000000
#>   [5,] 0.30303030    0.11111111  0.25000000 0.4210526   0.4117647
#>   [6,] 0.28358209    0.05555556  0.08333333 0.4736842   0.4444444
#>   [7,] 0.28985507    0.11111111  0.15384615 0.4210526   0.4210526
#>   [8,] 0.32394366    0.16666667  0.20000000 0.4736842   0.4210526
#>   [9,] 0.27777778    0.11111111  0.26666667 0.4000000   0.3157895
#>  [10,] 0.34246575    0.11111111  0.26666667 0.5000000   0.4500000
#>  [11,] 0.32432432    0.10526316  0.33333333 0.4000000   0.4500000
#>  [12,] 0.29729730    0.10526316  0.20000000 0.4000000   0.4500000
#>  [13,] 0.29333333    0.10000000  0.26666667 0.5000000   0.3000000
#>  [14,] 0.32000000    0.10000000  0.26666667 0.5000000   0.4000000
#>  [15,] 0.28000000    0.10000000  0.26666667 0.4000000   0.3500000
#>  [16,] 0.25333333    0.10000000  0.40000000 0.3000000   0.2500000
#>  [17,] 0.24000000    0.10000000  0.33333333 0.3000000   0.2500000
#>  [18,] 0.25333333    0.15000000  0.33333333 0.3000000   0.2500000
#>  [19,] 0.25333333    0.05000000  0.26666667 0.4000000   0.3000000
#>  [20,] 0.26666667    0.10000000  0.33333333 0.4000000   0.2500000
#>  [21,] 0.25333333    0.15000000  0.33333333 0.3000000   0.2500000
#>  [22,] 0.22666667    0.10000000  0.33333333 0.3000000   0.2000000
#>  [23,] 0.24000000    0.05000000  0.40000000 0.3000000   0.2500000
#>  [24,] 0.17333333    0.05000000  0.33333333 0.2500000   0.1000000
#>  [25,] 0.22666667    0.15000000  0.40000000 0.3000000   0.1000000
#>  [26,] 0.18666667    0.05000000  0.40000000 0.2500000   0.1000000
#>  [27,] 0.20000000    0.05000000  0.40000000 0.2500000   0.1500000
#>  [28,] 0.18666667    0.05000000  0.40000000 0.2500000   0.1000000
#>  [29,] 0.20000000    0.05000000  0.46666667 0.2500000   0.1000000
#>  [30,] 0.18666667    0.05000000  0.40000000 0.2500000   0.1000000
#>  [31,] 0.18666667    0.05000000  0.40000000 0.2500000   0.1000000
#>  [32,] 0.20000000    0.10000000  0.40000000 0.2500000   0.1000000
#>  [33,] 0.20000000    0.10000000  0.40000000 0.2500000   0.1000000
#>  [34,] 0.18666667    0.10000000  0.40000000 0.2500000   0.0500000
#>  [35,] 0.17333333    0.10000000  0.33333333 0.2500000   0.0500000
#>  [36,] 0.17333333    0.10000000  0.40000000 0.2000000   0.0500000
#>  [37,] 0.20000000    0.15000000  0.46666667 0.2000000   0.0500000
#>  [38,] 0.20000000    0.15000000  0.40000000 0.2000000   0.1000000
#>  [39,] 0.16000000    0.10000000  0.33333333 0.2000000   0.0500000
#>  [40,] 0.21333333    0.10000000  0.46666667 0.2500000   0.1000000
#>  [41,] 0.20000000    0.10000000  0.40000000 0.2500000   0.1000000
#>  [42,] 0.17333333    0.10000000  0.40000000 0.2000000   0.0500000
#>  [43,] 0.17333333    0.10000000  0.40000000 0.2000000   0.0500000
#>  [44,] 0.18666667    0.10000000  0.40000000 0.2000000   0.1000000
#>  [45,] 0.17333333    0.10000000  0.33333333 0.2000000   0.1000000
#>  [46,] 0.17333333    0.10000000  0.33333333 0.2000000   0.1000000
#>  [47,] 0.18666667    0.10000000  0.33333333 0.2000000   0.1500000
#>  [48,] 0.18666667    0.10000000  0.33333333 0.2000000   0.1500000
#>  [49,] 0.17333333    0.10000000  0.33333333 0.2000000   0.1000000
#>  [50,] 0.17333333    0.10000000  0.26666667 0.2000000   0.1500000
#>  [51,] 0.16000000    0.10000000  0.26666667 0.2000000   0.1000000
#>  [52,] 0.14666667    0.10000000  0.26666667 0.2000000   0.0500000
#>  [53,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#>  [54,] 0.13333333    0.10000000  0.26666667 0.1500000   0.0500000
#>  [55,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#>  [56,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#>  [57,] 0.13333333    0.10000000  0.26666667 0.1500000   0.0500000
#>  [58,] 0.12000000    0.10000000  0.26666667 0.1500000   0.0000000
#>  [59,] 0.12000000    0.10000000  0.26666667 0.1500000   0.0000000
#>  [60,] 0.12000000    0.10000000  0.26666667 0.1500000   0.0000000
#>  [61,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#>  [62,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#>  [63,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#>  [64,] 0.12000000    0.10000000  0.26666667 0.1500000   0.0000000
#>  [65,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#>  [66,] 0.13333333    0.10000000  0.26666667 0.1500000   0.0500000
#>  [67,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#>  [68,] 0.14666667    0.10000000  0.26666667 0.2000000   0.0500000
#>  [69,] 0.14666667    0.15000000  0.26666667 0.2000000   0.0000000
#>  [70,] 0.14666667    0.15000000  0.26666667 0.1500000   0.0500000
#>  [71,] 0.14666667    0.15000000  0.26666667 0.1500000   0.0500000
#>  [72,] 0.14666667    0.15000000  0.26666667 0.1500000   0.0500000
#>  [73,] 0.14666667    0.15000000  0.26666667 0.1500000   0.0500000
#>  [74,] 0.13333333    0.15000000  0.26666667 0.1500000   0.0000000
#>  [75,] 0.13333333    0.15000000  0.26666667 0.1500000   0.0000000
#>  [76,] 0.14666667    0.15000000  0.26666667 0.1500000   0.0500000
#>  [77,] 0.13333333    0.15000000  0.26666667 0.1500000   0.0000000
#>  [78,] 0.14666667    0.15000000  0.26666667 0.1500000   0.0500000
#>  [79,] 0.13333333    0.15000000  0.26666667 0.1500000   0.0000000
#>  [80,] 0.14666667    0.15000000  0.26666667 0.2000000   0.0000000
#>  [81,] 0.13333333    0.15000000  0.26666667 0.1500000   0.0000000
#>  [82,] 0.14666667    0.15000000  0.26666667 0.2000000   0.0000000
#>  [83,] 0.13333333    0.15000000  0.26666667 0.1500000   0.0000000
#>  [84,] 0.14666667    0.15000000  0.26666667 0.2000000   0.0000000
#>  [85,] 0.16000000    0.15000000  0.26666667 0.2000000   0.0500000
#>  [86,] 0.14666667    0.15000000  0.26666667 0.1500000   0.0500000
#>  [87,] 0.16000000    0.15000000  0.26666667 0.2000000   0.0500000
#>  [88,] 0.14666667    0.15000000  0.26666667 0.1500000   0.0500000
#>  [89,] 0.14666667    0.15000000  0.26666667 0.2000000   0.0000000
#>  [90,] 0.16000000    0.15000000  0.26666667 0.2000000   0.0500000
#>  [91,] 0.16000000    0.15000000  0.26666667 0.2000000   0.0500000
#>  [92,] 0.16000000    0.15000000  0.26666667 0.2000000   0.0500000
#>  [93,] 0.14666667    0.15000000  0.26666667 0.2000000   0.0000000
#>  [94,] 0.16000000    0.15000000  0.26666667 0.2000000   0.0500000
#>  [95,] 0.16000000    0.15000000  0.26666667 0.2000000   0.0500000
#>  [96,] 0.16000000    0.15000000  0.26666667 0.2000000   0.0500000
#>  [97,] 0.14666667    0.15000000  0.26666667 0.2000000   0.0000000
#>  [98,] 0.16000000    0.15000000  0.26666667 0.2000000   0.0500000
#>  [99,] 0.14666667    0.15000000  0.26666667 0.2000000   0.0000000
#> [100,] 0.14666667    0.15000000  0.26666667 0.2000000   0.0000000
#> [101,] 0.14666667    0.15000000  0.26666667 0.2000000   0.0000000
#> [102,] 0.14666667    0.15000000  0.26666667 0.2000000   0.0000000
#> [103,] 0.14666667    0.15000000  0.26666667 0.2000000   0.0000000
#> [104,] 0.14666667    0.15000000  0.26666667 0.2000000   0.0000000
#> [105,] 0.14666667    0.15000000  0.26666667 0.2000000   0.0000000
#> [106,] 0.14666667    0.15000000  0.26666667 0.2000000   0.0000000
#> [107,] 0.14666667    0.15000000  0.26666667 0.2000000   0.0000000
#> [108,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [109,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [110,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [111,] 0.14666667    0.10000000  0.26666667 0.2000000   0.0500000
#> [112,] 0.16000000    0.15000000  0.26666667 0.2000000   0.0500000
#> [113,] 0.14666667    0.10000000  0.26666667 0.2000000   0.0500000
#> [114,] 0.14666667    0.10000000  0.26666667 0.2000000   0.0500000
#> [115,] 0.14666667    0.15000000  0.26666667 0.2000000   0.0000000
#> [116,] 0.14666667    0.15000000  0.26666667 0.2000000   0.0000000
#> [117,] 0.14666667    0.15000000  0.26666667 0.2000000   0.0000000
#> [118,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [119,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [120,] 0.14666667    0.15000000  0.26666667 0.2000000   0.0000000
#> [121,] 0.14666667    0.15000000  0.26666667 0.2000000   0.0000000
#> [122,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [123,] 0.14666667    0.15000000  0.26666667 0.2000000   0.0000000
#> [124,] 0.14666667    0.15000000  0.26666667 0.2000000   0.0000000
#> [125,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [126,] 0.14666667    0.15000000  0.26666667 0.2000000   0.0000000
#> [127,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [128,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [129,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [130,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [131,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [132,] 0.14666667    0.15000000  0.26666667 0.2000000   0.0000000
#> [133,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [134,] 0.14666667    0.15000000  0.26666667 0.2000000   0.0000000
#> [135,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [136,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [137,] 0.16000000    0.15000000  0.26666667 0.2000000   0.0500000
#> [138,] 0.16000000    0.15000000  0.26666667 0.2000000   0.0500000
#> [139,] 0.16000000    0.15000000  0.26666667 0.2000000   0.0500000
#> [140,] 0.14666667    0.10000000  0.26666667 0.2000000   0.0500000
#> [141,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [142,] 0.14666667    0.10000000  0.26666667 0.2000000   0.0500000
#> [143,] 0.14666667    0.15000000  0.26666667 0.2000000   0.0000000
#> [144,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [145,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [146,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [147,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [148,] 0.14666667    0.15000000  0.26666667 0.2000000   0.0000000
#> [149,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [150,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [151,] 0.14666667    0.15000000  0.26666667 0.2000000   0.0000000
#> [152,] 0.14666667    0.15000000  0.26666667 0.2000000   0.0000000
#> [153,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [154,] 0.14666667    0.15000000  0.26666667 0.2000000   0.0000000
#> [155,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [156,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [157,] 0.14666667    0.15000000  0.26666667 0.2000000   0.0000000
#> [158,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [159,] 0.14666667    0.15000000  0.26666667 0.2000000   0.0000000
#> [160,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [161,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [162,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [163,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [164,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [165,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [166,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [167,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [168,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [169,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [170,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [171,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [172,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [173,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [174,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [175,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [176,] 0.12000000    0.10000000  0.26666667 0.1500000   0.0000000
#> [177,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [178,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [179,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [180,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [181,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [182,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [183,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [184,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [185,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [186,] 0.12000000    0.10000000  0.26666667 0.1500000   0.0000000
#> [187,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [188,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [189,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [190,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [191,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [192,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [193,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [194,] 0.14666667    0.10000000  0.26666667 0.2000000   0.0500000
#> [195,] 0.14666667    0.10000000  0.26666667 0.2000000   0.0500000
#> [196,] 0.13333333    0.10000000  0.26666667 0.2000000   0.0000000
#> [197,] 0.14666667    0.10000000  0.26666667 0.2000000   0.0500000
#> [198,] 0.14666667    0.10000000  0.26666667 0.2000000   0.0500000
#> [199,] 0.14666667    0.10000000  0.26666667 0.2000000   0.0500000
#> [200,] 0.14666667    0.10000000  0.26666667 0.2000000   0.0500000
#> [201,] 0.14666667    0.10000000  0.26666667 0.2000000   0.0500000
#> [202,] 0.14666667    0.10000000  0.26666667 0.2000000   0.0500000
#> [203,] 0.14666667    0.10000000  0.26666667 0.2000000   0.0500000
#> [204,] 0.14666667    0.10000000  0.26666667 0.2000000   0.0500000
#> [205,] 0.14666667    0.10000000  0.26666667 0.2000000   0.0500000
#> [206,] 0.14666667    0.10000000  0.26666667 0.2000000   0.0500000
#> [207,] 0.14666667    0.10000000  0.26666667 0.2000000   0.0500000
#> [208,] 0.14666667    0.10000000  0.26666667 0.2000000   0.0500000
#> [209,] 0.13333333    0.10000000  0.26666667 0.1500000   0.0500000
#> [210,] 0.13333333    0.10000000  0.26666667 0.1500000   0.0500000
#> [211,] 0.14666667    0.15000000  0.26666667 0.1500000   0.0500000
#> [212,] 0.14666667    0.15000000  0.26666667 0.1500000   0.0500000
#> [213,] 0.13333333    0.10000000  0.26666667 0.1500000   0.0500000
#> [214,] 0.13333333    0.10000000  0.26666667 0.1500000   0.0500000
#> [215,] 0.14666667    0.15000000  0.26666667 0.1500000   0.0500000
#> [216,] 0.14666667    0.15000000  0.26666667 0.1500000   0.0500000
#> [217,] 0.14666667    0.15000000  0.26666667 0.1500000   0.0500000
#> [218,] 0.14666667    0.15000000  0.26666667 0.1500000   0.0500000
#> [219,] 0.14666667    0.15000000  0.26666667 0.1500000   0.0500000
#> [220,] 0.14666667    0.15000000  0.26666667 0.1500000   0.0500000
#> [221,] 0.14666667    0.15000000  0.26666667 0.1500000   0.0500000
#> [222,] 0.14666667    0.15000000  0.26666667 0.1500000   0.0500000
#> [223,] 0.13333333    0.15000000  0.26666667 0.1000000   0.0500000
#> [224,] 0.13333333    0.15000000  0.26666667 0.1000000   0.0500000
#> [225,] 0.13333333    0.15000000  0.26666667 0.1000000   0.0500000
#> [226,] 0.12000000    0.15000000  0.26666667 0.0500000   0.0500000
#> [227,] 0.12000000    0.15000000  0.26666667 0.0500000   0.0500000
#> [228,] 0.13333333    0.15000000  0.26666667 0.1000000   0.0500000
#> [229,] 0.13333333    0.15000000  0.26666667 0.1000000   0.0500000
#> [230,] 0.12000000    0.15000000  0.26666667 0.0500000   0.0500000
#> [231,] 0.13333333    0.15000000  0.26666667 0.1000000   0.0500000
#> [232,] 0.12000000    0.15000000  0.26666667 0.0500000   0.0500000
#> [233,] 0.13333333    0.15000000  0.26666667 0.1000000   0.0500000
#> [234,] 0.12000000    0.15000000  0.26666667 0.0500000   0.0500000
#> [235,] 0.13333333    0.15000000  0.26666667 0.1000000   0.0500000
#> [236,] 0.13333333    0.15000000  0.26666667 0.1000000   0.0500000
#> [237,] 0.13333333    0.15000000  0.26666667 0.1000000   0.0500000
#> [238,] 0.13333333    0.15000000  0.26666667 0.1000000   0.0500000
#> [239,] 0.12000000    0.15000000  0.26666667 0.0500000   0.0500000
#> [240,] 0.13333333    0.15000000  0.26666667 0.1000000   0.0500000
#> [241,] 0.13333333    0.15000000  0.26666667 0.1000000   0.0500000
#> [242,] 0.13333333    0.15000000  0.26666667 0.1000000   0.0500000
#> [243,] 0.12000000    0.15000000  0.26666667 0.0500000   0.0500000
#> [244,] 0.12000000    0.15000000  0.26666667 0.0500000   0.0500000
#> [245,] 0.12000000    0.15000000  0.26666667 0.0500000   0.0500000
#> [246,] 0.10666667    0.15000000  0.20000000 0.0500000   0.0500000
#> [247,] 0.10666667    0.15000000  0.20000000 0.0500000   0.0500000
#> [248,] 0.12000000    0.15000000  0.26666667 0.0500000   0.0500000
#> [249,] 0.10666667    0.15000000  0.20000000 0.0500000   0.0500000
#> [250,] 0.10666667    0.15000000  0.20000000 0.0500000   0.0500000
#> [251,] 0.10666667    0.15000000  0.20000000 0.0500000   0.0500000
#> [252,] 0.10666667    0.15000000  0.20000000 0.0500000   0.0500000
#> [253,] 0.10666667    0.15000000  0.20000000 0.0500000   0.0500000
#> [254,] 0.10666667    0.15000000  0.20000000 0.0500000   0.0500000
#> [255,] 0.10666667    0.15000000  0.20000000 0.0500000   0.0500000
#> [256,] 0.10666667    0.15000000  0.20000000 0.0500000   0.0500000
#> [257,] 0.10666667    0.15000000  0.20000000 0.0500000   0.0500000
#> [258,] 0.10666667    0.15000000  0.20000000 0.0500000   0.0500000
#> [259,] 0.10666667    0.15000000  0.20000000 0.0500000   0.0500000
#> [260,] 0.12000000    0.15000000  0.20000000 0.1000000   0.0500000
#> [261,] 0.12000000    0.15000000  0.20000000 0.1000000   0.0500000
#> [262,] 0.10666667    0.15000000  0.20000000 0.0500000   0.0500000
#> [263,] 0.12000000    0.15000000  0.20000000 0.1000000   0.0500000
#> [264,] 0.12000000    0.15000000  0.20000000 0.1000000   0.0500000
#> [265,] 0.10666667    0.15000000  0.20000000 0.0500000   0.0500000
#> [266,] 0.12000000    0.15000000  0.20000000 0.1000000   0.0500000
#> [267,] 0.12000000    0.15000000  0.20000000 0.1000000   0.0500000
#> [268,] 0.12000000    0.15000000  0.20000000 0.1000000   0.0500000
#> [269,] 0.12000000    0.15000000  0.20000000 0.1000000   0.0500000
#> [270,] 0.12000000    0.15000000  0.20000000 0.1000000   0.0500000
#> [271,] 0.12000000    0.15000000  0.20000000 0.1000000   0.0500000
#> [272,] 0.12000000    0.15000000  0.20000000 0.1000000   0.0500000
#> [273,] 0.12000000    0.15000000  0.20000000 0.1000000   0.0500000
#> [274,] 0.12000000    0.15000000  0.20000000 0.1000000   0.0500000
#> [275,] 0.12000000    0.15000000  0.20000000 0.1000000   0.0500000
#> [276,] 0.12000000    0.15000000  0.20000000 0.1000000   0.0500000
#> [277,] 0.12000000    0.15000000  0.20000000 0.1000000   0.0500000
#> [278,] 0.13333333    0.15000000  0.20000000 0.1500000   0.0500000
#> [279,] 0.12000000    0.15000000  0.20000000 0.1000000   0.0500000
#> [280,] 0.12000000    0.15000000  0.20000000 0.1000000   0.0500000
#> [281,] 0.13333333    0.15000000  0.20000000 0.1500000   0.0500000
#> [282,] 0.12000000    0.15000000  0.20000000 0.1000000   0.0500000
#> [283,] 0.12000000    0.15000000  0.20000000 0.1000000   0.0500000
#> [284,] 0.13333333    0.15000000  0.20000000 0.1500000   0.0500000
#> [285,] 0.10666667    0.15000000  0.20000000 0.0500000   0.0500000
#> [286,] 0.12000000    0.15000000  0.20000000 0.1000000   0.0500000
#> [287,] 0.12000000    0.15000000  0.20000000 0.1000000   0.0500000
#> [288,] 0.10666667    0.15000000  0.20000000 0.0500000   0.0500000
#> [289,] 0.10666667    0.15000000  0.20000000 0.0500000   0.0500000
#> [290,] 0.10666667    0.15000000  0.20000000 0.0500000   0.0500000
#> [291,] 0.10666667    0.15000000  0.20000000 0.0500000   0.0500000
#> [292,] 0.09333333    0.10000000  0.20000000 0.0500000   0.0500000
#> [293,] 0.10666667    0.15000000  0.20000000 0.0500000   0.0500000
#> [294,] 0.10666667    0.15000000  0.20000000 0.0500000   0.0500000
#> [295,] 0.10666667    0.15000000  0.20000000 0.0500000   0.0500000
#> [296,] 0.10666667    0.15000000  0.20000000 0.0500000   0.0500000
#> [297,] 0.10666667    0.15000000  0.20000000 0.0500000   0.0500000
#> [298,] 0.10666667    0.15000000  0.20000000 0.0500000   0.0500000
#> [299,] 0.10666667    0.15000000  0.20000000 0.0500000   0.0500000
#> [300,] 0.10666667    0.15000000  0.20000000 0.0500000   0.0500000
#> [301,] 0.10666667    0.15000000  0.20000000 0.0500000   0.0500000
#> [302,] 0.10666667    0.15000000  0.20000000 0.0500000   0.0500000
#> [303,] 0.10666667    0.15000000  0.20000000 0.0500000   0.0500000
#> [304,] 0.10666667    0.15000000  0.20000000 0.0500000   0.0500000
#> [305,] 0.10666667    0.15000000  0.20000000 0.0500000   0.0500000
#> [306,] 0.10666667    0.15000000  0.20000000 0.0500000   0.0500000
#> [307,] 0.10666667    0.15000000  0.20000000 0.0500000   0.0500000
#> [308,] 0.10666667    0.15000000  0.20000000 0.0500000   0.0500000
#> [309,] 0.10666667    0.15000000  0.20000000 0.0500000   0.0500000
#> [310,] 0.10666667    0.15000000  0.20000000 0.0500000   0.0500000
#> [311,] 0.09333333    0.10000000  0.20000000 0.0500000   0.0500000
#> [312,] 0.09333333    0.10000000  0.20000000 0.0500000   0.0500000
#> [313,] 0.09333333    0.10000000  0.20000000 0.0500000   0.0500000
#> [314,] 0.09333333    0.10000000  0.20000000 0.0500000   0.0500000
#> [315,] 0.10666667    0.15000000  0.20000000 0.0500000   0.0500000
#> [316,] 0.10666667    0.15000000  0.20000000 0.0500000   0.0500000
#> [317,] 0.10666667    0.15000000  0.20000000 0.0500000   0.0500000
#> [318,] 0.09333333    0.10000000  0.20000000 0.0500000   0.0500000
#> [319,] 0.09333333    0.10000000  0.20000000 0.0500000   0.0500000
#> [320,] 0.09333333    0.10000000  0.20000000 0.0500000   0.0500000
#> [321,] 0.09333333    0.10000000  0.20000000 0.0500000   0.0500000
#> [322,] 0.09333333    0.10000000  0.20000000 0.0500000   0.0500000
#> [323,] 0.09333333    0.10000000  0.20000000 0.0500000   0.0500000
#> [324,] 0.09333333    0.10000000  0.20000000 0.0500000   0.0500000
#> [325,] 0.09333333    0.10000000  0.20000000 0.0500000   0.0500000
#> [326,] 0.09333333    0.10000000  0.20000000 0.0500000   0.0500000
#> [327,] 0.09333333    0.10000000  0.20000000 0.0500000   0.0500000
#> [328,] 0.09333333    0.10000000  0.20000000 0.0500000   0.0500000
#> [329,] 0.09333333    0.10000000  0.20000000 0.0500000   0.0500000
#> [330,] 0.09333333    0.10000000  0.20000000 0.0500000   0.0500000
#> [331,] 0.09333333    0.10000000  0.20000000 0.0500000   0.0500000
#> [332,] 0.09333333    0.10000000  0.20000000 0.0500000   0.0500000
#> [333,] 0.09333333    0.10000000  0.20000000 0.0500000   0.0500000
#> [334,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [335,] 0.09333333    0.10000000  0.20000000 0.0500000   0.0500000
#> [336,] 0.09333333    0.10000000  0.20000000 0.0500000   0.0500000
#> [337,] 0.09333333    0.10000000  0.20000000 0.0500000   0.0500000
#> [338,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [339,] 0.09333333    0.10000000  0.20000000 0.0500000   0.0500000
#> [340,] 0.09333333    0.10000000  0.20000000 0.0500000   0.0500000
#> [341,] 0.09333333    0.10000000  0.20000000 0.0500000   0.0500000
#> [342,] 0.09333333    0.10000000  0.20000000 0.0500000   0.0500000
#> [343,] 0.09333333    0.10000000  0.20000000 0.0500000   0.0500000
#> [344,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [345,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [346,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [347,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [348,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [349,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [350,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [351,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [352,] 0.09333333    0.10000000  0.20000000 0.0500000   0.0500000
#> [353,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [354,] 0.09333333    0.10000000  0.20000000 0.0500000   0.0500000
#> [355,] 0.09333333    0.10000000  0.20000000 0.0500000   0.0500000
#> [356,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [357,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [358,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [359,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [360,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [361,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [362,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [363,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [364,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [365,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [366,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [367,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [368,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [369,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [370,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [371,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [372,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [373,] 0.09333333    0.10000000  0.20000000 0.0500000   0.0500000
#> [374,] 0.09333333    0.10000000  0.20000000 0.0500000   0.0500000
#> [375,] 0.09333333    0.10000000  0.20000000 0.0500000   0.0500000
#> [376,] 0.09333333    0.10000000  0.20000000 0.0500000   0.0500000
#> [377,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [378,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [379,] 0.09333333    0.10000000  0.20000000 0.0500000   0.0500000
#> [380,] 0.09333333    0.10000000  0.20000000 0.0500000   0.0500000
#> [381,] 0.09333333    0.10000000  0.20000000 0.0500000   0.0500000
#> [382,] 0.09333333    0.10000000  0.20000000 0.0500000   0.0500000
#> [383,] 0.09333333    0.10000000  0.20000000 0.0500000   0.0500000
#> [384,] 0.09333333    0.10000000  0.20000000 0.0500000   0.0500000
#> [385,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [386,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [387,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [388,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [389,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [390,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [391,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [392,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [393,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [394,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [395,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [396,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [397,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [398,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [399,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [400,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [401,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [402,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [403,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [404,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [405,] 0.09333333    0.10000000  0.20000000 0.0500000   0.0500000
#> [406,] 0.09333333    0.10000000  0.20000000 0.0500000   0.0500000
#> [407,] 0.09333333    0.10000000  0.20000000 0.0500000   0.0500000
#> [408,] 0.09333333    0.10000000  0.20000000 0.0500000   0.0500000
#> [409,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [410,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [411,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [412,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [413,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [414,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [415,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [416,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [417,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [418,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [419,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [420,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [421,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [422,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [423,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [424,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [425,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [426,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [427,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [428,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [429,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [430,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [431,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [432,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [433,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [434,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [435,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [436,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [437,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [438,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [439,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [440,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [441,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [442,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [443,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [444,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [445,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [446,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [447,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [448,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [449,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [450,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [451,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [452,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [453,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [454,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [455,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [456,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [457,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [458,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [459,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [460,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [461,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [462,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [463,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [464,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [465,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [466,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [467,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [468,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [469,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [470,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [471,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [472,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [473,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [474,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [475,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [476,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [477,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [478,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [479,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [480,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [481,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [482,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [483,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [484,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [485,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [486,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [487,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [488,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [489,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [490,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [491,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [492,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [493,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [494,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [495,] 0.12000000    0.15000000  0.20000000 0.1000000   0.0500000
#> [496,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [497,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [498,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [499,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
#> [500,] 0.10666667    0.10000000  0.20000000 0.1000000   0.0500000
```

# Part 2. Run the detector/classifier

## Part 2a. Feature extraction

``` r
# Specify the folder where the training data will be saved
TrainingDataFolderLocation <- "/Users/denaclink/Desktop/RStudio Projects/gibbonR/data/TrainingDataFromRavenSelectionTables/"
  
TrainingDataMFCC <- MFCCFunction(input.dir= TrainingDataFolderLocation, min.freq = 400, max.freq = 1600,win.avg="TRUE")
  
TrainingDataMFCC$class <- as.factor(TrainingDataMFCC$class)
```

## Part 2b. Run DetectClassify

``` r
  TestFileDirectory <- '/Users/denaclink/Library/CloudStorage/Box-Box/gibbonRSampleFiles/GibbonTestFiles'
  
  OutputDirectory <-  "/Users/denaclink/Desktop/RStudio Projects/gibbonR/data/DetectAndClassifyOutput"
  
  DetectAndClassify(input=TestFileDirectory,
                    feature.df=TrainingDataMFCC,
                    model.type.list=c('SVM','RF'),
                    tune = TRUE,
                    short.wav.duration=300,
                    target.signal = c("female.gibbon"),
                    min.freq = 400, max.freq = 1600,
                    noise.quantile.val=0.15,
                    minimum.separation =3,
                    n.windows = 9, num.cep = 12,
                    spectrogram.window =160,
                    pattern.split = ".wav",
                    min.signal.dur = 3,
                    max.sound.event.dur = 25,
                    maximum.separation =1,
                    probability.thresh.svm = 0.15,
                    probability.thresh.rf = 0.15,
                    wav.output = "TRUE",
                    output.dir =OutputDirectory,
                    swift.time=TRUE,time.start=5,time.stop=10,
                    write.table.output=FALSE,verbose=TRUE,
                    random.sample='NA')
  
```

# Part 3. Data visualization

## Part 3a. Create a UMAP plot colored by class

``` r
library(gibbonR)
library(ggpubr)
#> Loading required package: ggplot2
#> 
#> Attaching package: 'ggplot2'
#> The following object is masked from 'package:randomForest':
#> 
#>     margin
UMAPBiplotAddSpectrograms(input.dir.Focal="/Users/denaclink/Desktop/RStudio Projects/gibbonR/data/MultipleSoundClasses/",output.dir.Focal="/Users/denaclink/Desktop/RStudio Projects/gibbonR/data/MultipleSoundClasses/Thumbnails/",add.spectrograms=TRUE,min.freq=400,max.freq=1600,main="UMAP Plot")
#> [1] "Step 1 Calculating MFCCs"
#> [1] "Step 2 Creating biplot"
#> [1] "Step 3 Creating Spectrograms"
#> [1] "/Users/denaclink/Desktop/RStudio Projects/gibbonR/data/MultipleSoundClasses/Thumbnails/ already exists"
#> [1] "Step 4 Adding Spectrograms to Plot "
```

<img src="man/figures/README-unnamed-chunk-8-1.png" width="100%" /> \##
Part 3b. Create a UMAP plot colored by affinity propagation clustering

``` r
library(gibbonR)
library(ggpubr)
library(apcluster)
#> 
#> Attaching package: 'apcluster'
#> The following object is masked from 'package:stats':
#> 
#>     heatmap
AffinityBiplotAddSpectrograms(input.dir.Focal="/Users/denaclink/Desktop/RStudio Projects/gibbonR/data/MultipleSoundClasses/",output.dir.Focal="/Users/denaclink/Desktop/RStudio Projects/gibbonR/data/MultipleSoundClasses/Thumbnails/",class='fixed', q.fixed=0.1,add.spectrograms=TRUE,min.freq=400,max.freq=1600,main="UMAP Plot")
#> [1] "Step 1 Calculating MFCCs"
#> [1] "Step 2 Computing unsupervised clustering with fixed q"
#> [1] "Step 3 Creating Spectrograms "
#> [1] "/Users/denaclink/Desktop/RStudio Projects/gibbonR/data/MultipleSoundClasses/Thumbnails/ already exists"
#> [1] "Adding Spectrograms to Plot Step 3 of 3"
```

<img src="man/figures/README-unnamed-chunk-9-1.png" width="100%" />

### How to cite

This package is currently in development, with submission to rOpenSci
planned shortly. In the interim, please cite the arXiv preprint:

Clink, D. J. & H. Klinck. (2019). gibbonR: An R package for the
detection and classification of acoustic signals using machine learning.
arXiv, 1906.02572. <https://doi.org/10.48550/arXiv.1906.02572>
